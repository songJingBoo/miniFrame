(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5742ea17"],{7803:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("el-form",{ref:"loginForm",staticClass:"form-container",attrs:{model:e.loginForm,rules:e.rules}},[o("div",{staticClass:"title-container"},[o("h2",{staticClass:"title"},[e._v("注 册")])]),o("el-form-item",{attrs:{prop:"email"}},[o("el-input",{attrs:{autocomplete:"off",type:"email","prefix-icon":"el-icon-s-custom",placeholder:"Email"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1),o("el-form-item",{attrs:{prop:"nickname"}},[o("el-input",{attrs:{autocomplete:"off","prefix-icon":"el-icon-s-custom",placeholder:"nickname"},model:{value:e.loginForm.nickname,callback:function(t){e.$set(e.loginForm,"nickname",t)},expression:"loginForm.nickname"}})],1),o("el-form-item",{staticClass:"password-box",attrs:{prop:"password"}},[o("el-input",{ref:"password",attrs:{autocomplete:"off",type:e.showPwd?"text":"password","prefix-icon":"el-icon-lock",placeholder:"请设置密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),o("span",{staticClass:"password-icon",on:{click:function(t){return e.togglePwd()}}},[o("svg-icon",{attrs:{"icon-class":e.showPwd?"open":"close"}})],1)],1),o("el-form-item",{staticClass:"password-box",attrs:{prop:"rePassword"}},[o("el-input",{ref:"rePassword",attrs:{autocomplete:"off",type:e.showPwd?"text":"password","prefix-icon":"el-icon-lock",placeholder:"再次输入密码"},model:{value:e.loginForm.rePassword,callback:function(t){e.$set(e.loginForm,"rePassword",t)},expression:"loginForm.rePassword"}}),o("span",{staticClass:"password-icon",on:{click:function(t){return e.togglePwd()}}},[o("svg-icon",{attrs:{"icon-class":e.showPwd?"open":"close"}})],1)],1),o("el-form-item",{attrs:{prop:"captcha"}},[o("el-input",{staticClass:"captch-input",attrs:{autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"验证码"},model:{value:e.loginForm.captcha,callback:function(t){e.$set(e.loginForm,"captcha",t)},expression:"loginForm.captcha"}}),o("img",{staticClass:"captch-input__img",attrs:{src:e.captchaUrl,alt:""},on:{click:e.updateCaptcha}})],1),o("el-form-item",[o("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v("注 册")])],1)],1)],1)},r=[],s=o("1da1"),n=(o("96cf"),o("99af"),o("b64b"),o("6821")),i=o.n(n),c=o("7ded"),l={name:"login",data:function(){var e=this;return{loginForm:{email:"123@qq.com",nickname:"test-user",password:"zsxdc153",rePassword:"zsxdc153",captcha:""},rules:{email:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入正确的邮箱格式"}],nickname:[{required:!0,message:"请输入用户名"}],password:[{required:!0,pattern:/^[\w_-]{6,12}$/g,message:"请输入6~12位密码"}],rePassword:[{required:!0,message:"请再次输入密码"},{validator:function(t,o,a){o!==e.loginForm.password&&a(new Error("两次密码不一致")),a()}}],captcha:[{required:!0,message:"请输入验证码"}]},captchaUrl:"".concat("/back-api","/captcha"),showPwd:!1,redirect:"",otherQuery:""}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{updateCaptcha:function(){this.captchaUrl="".concat("/back-api","/captcha?v=").concat((new Date).getTime())},togglePwd:function(){var e=this;this.showPwd=!this.showPwd,this.$nextTick((function(){e.$refs.password.focus()}))},submitForm:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(o){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!o){t.next=6;break}return a={email:e.loginForm.email,nickname:e.loginForm.nickname,password:i()(e.loginForm.password),captcha:e.loginForm.captcha},t.next=4,Object(c["b"])(a);case 4:r=t.sent,200===r.code?e.$alert("注册成功!","成功",{confirmButtonText:"去登录",callback:function(){e.$router.push("/login")}}):e.$message.error(r.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,o){return"redirect"!==o&&(t[o]=e[o]),t}),{})}}},p=l,m=(o("a547"),o("2877")),u=Object(m["a"])(p,a,r,!1,null,"3588a2d4",null);t["default"]=u.exports},a547:function(e,t,o){"use strict";o("f263")},f263:function(e,t,o){}}]);
//# sourceMappingURL=chunk-5742ea17.760888f7.js.map